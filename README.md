# 去中心化拍卖行

### 拍卖规则

#### 暗标拍卖(Vickery Auction)

拍卖流程：

1.用户A出价20美金，对用户A的出价进hash计算，产生一个哈希值，同时要求用户A向合约发送大于20美金的ETH，例如25美金。

2.用户B看到用户A发送了25美金，但并不知道她的具体出价，用户B如果想要出价25美金，那么她就需要发送比25美金更多的ETH，同时出价25美金。

3.用户C希望发送一个小于实际出价的数额迷惑其他人

4.拍卖结束后，公布并校验所有人的出价，未竞得的拍卖人会获得退款。

揭示流程：

1.用户A向合约发送出价金额和口令，合约经过计算比对两次哈希值，如果一致，则合约记录它为有效出价，返回25-5=5美金给用户A。

2.用户B揭示出价，因为她出价为25美金，为最高的出价者，合约会替换掉用户A，A用户竞价失败，所以拿回自己所有的钱。

3.用户C，合约就会归还ETH，判断该次拍卖操作不合法。

4.最后用户B获得拍卖，以第二高成交价成交，退还5美金。

### 代码逻辑











#### 揭示出价

